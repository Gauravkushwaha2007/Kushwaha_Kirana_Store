<%- include('../partials/header',{title: product.productName}) %>

<div class="max-w-7xl mx-auto px-4 py-10">

  <!-- Breadcrumb -->
  <p class="text-sm text-gray-400 mb-4">
    Home / Products / <span class="text-gray-700"><%= product.productName %></span>
  </p>

  <div class="bg-white rounded-3xl shadow-xl p-6 md:p-10 grid grid-cols-1 md:grid-cols-2 gap-10">

    <!-- IMAGE GALLERY -->
    <div>
      <!-- Main Image -->
      <div class="bg-gray-50 rounded-2xl p-6 flex items-center justify-center">
        <img
          id="mainImage"
          src="/<%= product.images[0] %>"
          class="max-h-[420px] object-contain transition duration-300"
        />
      </div>

      <!-- Thumbnails -->
      <div class="flex gap-3 mt-4 overflow-x-auto">
        <% product.images.forEach(img => { %>
          <img
            src="/<%= img %>"
            onclick="changeImage('/<%= img %>')"
            class="w-20 h-20 object-cover rounded-xl cursor-pointer
                   border-2 border-transparent hover:border-blue-500
                   transition"
          />
        <% }) %>
      </div>
    </div>

    <!-- PRODUCT INFO -->
    <div class="flex flex-col gap-5">

      <!-- Title -->
      <h1 class="text-3xl font-bold text-gray-900">
        <%= product.productName %>
      </h1>

      <!-- Rating (Fake but real feel üòé) -->
      <div class="flex items-center gap-2 text-yellow-400">
        ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ <span class="text-gray-500 text-sm">(124 ratings)</span>
      </div>

      <!-- Price -->
      <div class="text-4xl font-extrabold text-green-700">
        ‚Çπ <%= product.price %>
      </div>

      <!-- Description -->
      <p class="text-gray-600 leading-relaxed">
        <%= product.description %>
      </p>

      <!-- Highlights -->
      <ul class="list-disc list-inside text-gray-600 text-sm space-y-1">
        <li>Fresh & quality assured</li>
        <li>Trusted by local customers</li>
        <li>Fast delivery available</li>
      </ul>

      <!-- ACTION BUTTONS -->
      <div class="flex flex-col sm:flex-row gap-4 mt-4">

        <!-- Add to Cart -->
        <form action="/myOrders" method="POST" class="w-full">
          <input type="hidden" name="id" value="<%= product._id %>">
          <button type="submit"
            class="w-full py-4 rounded-xl text-white font-semibold
                   bg-orange-500 hover:bg-orange-600 transition
                   shadow-lg">
            üõí Add to Cart
          </button>
        </form>

        <!-- Buy Now -->
        <a href="/myOrders"
          class="w-full py-4 rounded-xl font-semibold text-center
                 border border-gray-300 hover:bg-gray-100 transition">
          ‚ö° Buy Now
        </a>

      </div>

      <!-- Favourite -->
      <form action="/favouriteList" method="POST" class="mt-4">
        <input type="hidden" name="id" value="<%= product._id %>">
        <button type="submit"
          class="flex items-center gap-2 text-red-500
                 hover:text-red-600 transition text-lg">
          ‚ù§Ô∏è Add to Favourite
        </button>
      </form>

    </div>

  </div>
</div>

<script>
  function changeImage(src) {
    document.getElementById('mainImage').src = src;
  }
</script>

<%- include('../partials/footer') %>
