<!-- BLINKIT STYLE SEARCH BAR (FIXED) -->
<div class="search-wrapper">
    <div class="search-box">

        <!-- SEARCH ICON -->
        <span class="search-icon">
            <svg xmlns="http://www.w3.org/2000/svg"
                 class="w-5 h-5 text-gray-400"
                 fill="none"
                 viewBox="0 0 24 24"
                 stroke="currentColor"
                 stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="M21 21l-4.3-4.3"/>
            </svg>
        </span>

        <!-- ANIMATED PLACEHOLDER -->
        <div class="placeholder-container">
            <div class="placeholder-track" id="placeholderTrack">
                <div class="placeholder-item">Search milk</div>
                <div class="placeholder-item">Search bread</div>
                <div class="placeholder-item">Search chocolate</div>
                <div class="placeholder-item">Search rice</div>
                <div class="placeholder-item">Search snacks</div>
            </div>
        </div>

        <!-- INPUT -->
        <input
            id="searchInput"
            type="text"
            class="search-input"
            placeholder=""
            onfocus="pauseAnimation()"
            onblur="resumeAnimation()"
            oninput="searchProducts(); hidePlaceholder()"
        />
    </div>
</div>

<style>
.search-wrapper{
    width:100%;
    max-width:420px;
}

.search-box{
    position:relative;
    display:flex;
    align-items:center;
    background:white;
    border:1px solid #e5e7eb;
    border-radius:12px;
    padding:10px 14px;
    overflow:hidden;
}

.search-icon{
    margin-right:10px;
    z-index:2;
}

.search-input{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    padding-left:44px;
    border:none;
    outline:none;
    background:transparent;
    z-index:3;
    font-size:14px;
}

.placeholder-container{
    height:22px;
    overflow:hidden;
    pointer-events:none;
}

.placeholder-track{
    display:flex;
    flex-direction:column;
    transition:transform 0.6s ease;
}

.placeholder-item{
    height:22px;
    line-height:22px;
    font-size:14px;
    color:#9ca3af;
}
</style>

<script>
const track = document.getElementById('placeholderTrack');
const searchInput = document.getElementById('searchInput');
const items = track.children.length;

let index = 0;
let interval;

function startAnimation(){
    interval = setInterval(()=>{
        index++;
        if(index >= items){
            index = 0;
            track.style.transition = 'none';
            track.style.transform = 'translateY(0)';
            setTimeout(()=>{
                track.style.transition = 'transform 0.6s ease';
            },50);
        }else{
            track.style.transform = `translateY(-${index * 22}px)`;
        }
    }, 2000);
}

function pauseAnimation(){
    clearInterval(interval);
}

function resumeAnimation(){
    if(searchInput.value === ""){
        document.querySelector('.placeholder-container').style.display = 'block';
        startAnimation();
    }
}

function hidePlaceholder(){
    document.querySelector('.placeholder-container').style.display = 'none';
}

/* SEARCH LOGIC */
function searchProducts(){
    const value = searchInput.value.toLowerCase();

    document.querySelectorAll('.product-card').forEach(card=>{
        const name = card
            .querySelector('.product-name')
            .innerText
            .toLowerCase();

        card.style.display = name.includes(value) ? 'block' : 'none';
    });
}

startAnimation();
</script>