<%- include('../partials/header', { title: 'Host product list'}) %>

<main class="max-w-6xl mx-auto p-3">

    <h2 class="text-xl font-semibold mb-4"> Here are your hosted Products </h2>

    <!-- RESPONSIVE GRID -->
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">

        <% products.forEach( p => { %>

            <div class="bg-white rounded-lg shadow overflow-hidden relative">

                <!-- Product Image -->
                <img 
                    src="/<%= p.images[0] %>" 
                    alt="product" 
                    class="w-full h-32 object-cover"
                />

                <!-- Product Content -->
                <div class="p-3">
                    <p class="text-sm font-semibold text-gray-800 truncate">
                        <%= p.productName %>
                    </p>

                    <p class="text-xs text-gray-500 mt-1">
                        Grocery item
                    </p>

                    <div class="flex justify-between items-center mt-2">
                        <span class="text-green-800 font-bold text-sm">
                            â‚¹ <%= p.price %>
                        </span>
                        <a href="/addEditProducts/<%=p._id%>?editing=true"
                            class="bg-green-500 text-white text-xs px-3 py-1 rounded
                                   hover:bg-green-600 transition">
                            Edit
                        </a>
                        <form action="/deleteProduct" method="POST">
                            <input type="hidden" name="productId" value="<%=p._id%>">
                            <button 
                                type="submit" 
                                class="bg-red-500 text-white text-xs px-3 py-1 rounded
                                       hover:bg-red-600 transition">
                                Delete
                            </button>
                        </form>
                    </div>
                </div>

            </div>

        <% }) %>

    </div>

</main>

<%- include('../partials/footer') %>
