<%- include('../partials/header',{ title: 'Add product' }) %>

<main class="max-w-md mx-auto mt-10 bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4 text-gray-800">
        <%= editing? "Edit" : "Add" %> Product in Kushwaha Kirana Store
    </h2>
    <form 
        action="<%= editing ? '/editProducts' : '/addEditProducts' %>" 
        method="post"
        class="space-y-4">

        <input 
            type="hidden" 
            name="productId" 
            value="<%= editing ? product._id : '' %>"
        >

        <input 
            type="text" 
            name="userName" 
            value="<%= editing? product.userName : '' %>"
            placeholder="Enter your name"
            required
            class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
        >

        <input 
            type="text" 
            name="userId" 
            value="<%= editing? product.userId : '' %>"
            placeholder="Enter user id" 
            required
            class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
        >

        <h3 class="text-lg font-medium text-gray-700">
            Enter product details
        </h3>

        <input 
            type="text" 
            name="productName" 
            value="<%= editing? product.productName : '' %>"
            placeholder="Enter your Product" 
            required
            class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-500"
        >

        <!-- âœ… IMAGE URL FIELD -->
        <input 
            type="text" 
            name="images" 
            value="<%= editing ? product.images.join(',') : '' %>"
            placeholder="Enter product image URL (comma seperated)"
            required
            class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-500"
        >

        <input 
            type="number" 
            name="price" 
            value="<%=editing? product.price : '' %>"
            placeholder="Enter price" 
            required
            class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-500"
        >
        <!-- DESCRIPTION -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
                Product Description
            </label>
            <textarea
                name="description"
                rows="4"
                class="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring"
                placeholder="Product ka description likho..."
            ><%= editing && product ? product.description : '' %></textarea>
        </div>

        <button 
            type="submit"
            class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition font-semibold"
        >
           <%= editing? 'Update' : 'Add' %> Product
        </button>

    </form>
</main>

<%- include('../partials/footer') %>
